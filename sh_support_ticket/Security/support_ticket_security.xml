<?xml version='1.0' encoding='utf-8'?>
<odoo>
    <data noupdate="1">
    
        <record id="support_ticket_category" model="ir.module.category">
            <field name="name">Support Ticket</field>
            <field name="sequence">10</field>
        </record>

        <!-- groups -->

        <record id="support_ticket_group_customer" model="res.groups">
            <field name="name">Customer</field>
            <field name="category_id" ref="sh_support_ticket.support_ticket_category"/>
            <field name="implied_ids" eval="[(4, ref('base.group_user'))]"/>
        </record>

        <record id="support_ticket_group_developer" model="res.groups">
            <field name="name">Developer</field>
            <field name="category_id" ref="sh_support_ticket.support_ticket_category"/>
            <field name="implied_ids" eval="[(4, ref('support_ticket_group_customer'))]"/>
        </record>

        <record id="sh_timesheet_security_group_suppport_leader" model="res.groups">
            <field name="name">Support Leader</field>
            <field name="category_id" ref="sh_support_ticket.support_ticket_category"/>
            <field name="implied_ids" eval="[(4, ref('support_ticket_group_developer'))]"/>
        </record>

        <record id="sh_timesheet_security_group_suppport_admin" model="res.groups">
            <field name="name">Admin</field>
            <field name="category_id" ref="sh_support_ticket.support_ticket_category"/>
            <field name="implied_ids" eval="[(4, ref('sh_timesheet_security_group_suppport_leader'))]"/>
            <field name="users" eval="[(4, ref('base.user_root'))]"/>
        </record>

        <!-- rules -->
        <!-- <record id="support_ticket_customer_own" model="ir.rule">
            <field name="name">Change his own info</field>
            <field name="model_id" ref="model_support_ticket"/>
            <field name="domain_force">[('customer_id', '=', user.partner_id.id)]</field>
            <field name="groups" eval="[(4,ref('sh_support_ticket.support_ticket_group_customer'))]"/>
        </record> -->
        

        <record id="support_ticket_developer_own" model="ir.rule">
            <field name="name">Change his own info</field>
            <field name="model_id" ref="model_support_ticket"/>
            <field name="domain_force">[('developer_id', '=', user.id)]</field>
            <field name="groups" eval="[(4,ref('sh_support_ticket.support_ticket_group_developer'))]"/>
        </record>

        <record id="support_ticket_support_leader_all" model="ir.rule">
            <field name="name"> Support Leader Change all info</field>
            <field name="model_id" ref="model_support_ticket"/>
            <field name="domain_force">[(1, '=', 1)]</field>
            <field name="groups" eval="[(4,ref('sh_support_ticket.sh_timesheet_security_group_suppport_leader'))]"/>
        </record>

        <record id="support_ticket_admin_all" model="ir.rule">
            <field name="name">Change all info</field>
            <field name="model_id" ref="model_support_ticket"/>
            <field name="domain_force">[(1, '=', 1)]</field>
            <field name="groups" eval="[(4,ref('sh_support_ticket.sh_timesheet_security_group_suppport_admin'))]"/>
        </record>
    
    </data>
    
</odoo>

<!-- sh_support_ticket.access_support_ticket_customer,access_support_ticket_customer,sh_support_ticket.model_support_ticket,sh_support_ticket.support_ticket_group_customer,1,1,1,1
sh_support_ticket.access_support_ticket_developer,access_support_ticket_developer,sh_support_ticket.model_support_ticket,sh_support_ticket.support_ticket_group_developer,1,1,1,1
sh_support_ticket.access_support_ticket_support_leader,access_support_ticket_support_leader,sh_support_ticket.model_support_ticket,sh_support_ticket.sh_timesheet_security_group_suppport_leader,1,1,1,1
sh_support_ticket.access_support_ticket_admin,access_support_ticket_admin,sh_support_ticket.model_support_ticket,sh_support_ticket.sh_timesheet_security_group_suppport_admin,1,1,1,1 -->